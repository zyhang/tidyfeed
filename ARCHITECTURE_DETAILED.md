# TidyFeed å¤šæµè§ˆå™¨æ¶æ„è¯¦è§£

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TidyFeed æ‰©å±•é¡¹ç›®                          â”‚
â”‚              (WXT Framework - Manifest v3)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Chromeç‰ˆæœ¬     â”‚  â”‚  Firefoxç‰ˆæœ¬    â”‚
           â”‚  (chrome-mv3)   â”‚  â”‚  (firefox-mv3)  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚  â”‚                â”‚
      manifest.json        manifest.json      (ç›¸åŒ)
    (æ— browser_specific)  (åŒ…å«geckoé…ç½®)
         â”‚                     â”‚  â”‚                â”‚
    å¯åˆ†å‘ .zip             å¯åˆ†å‘ .xpi          æ ¼å¼
```

---

## ğŸ“‹ æ„å»ºå’Œéƒ¨ç½²æµç¨‹

### å¼€å‘é˜¶æ®µ

```
æºä»£ç  (TypeScript, React)
    â†“
    â”œâ”€â†’ npm run dev          â†’ Chrome å¼€å‘æ¨¡å¼ (watch)
    â”‚
    â””â”€â†’ npm run dev:firefox  â†’ Firefox å¼€å‘æ¨¡å¼ (watch)
```

### ç”Ÿäº§æ„å»º

```
æºä»£ç  (TypeScript, React)
    â†“
WXT æ¡†æ¶å¤„ç†:
    â”œâ”€ ç¼–è¯‘ TypeScript â†’ JavaScript
    â”œâ”€ æ‰“åŒ… React ç»„ä»¶
    â”œâ”€ åº”ç”¨ Tailwind CSS
    â”œâ”€ ä»£ç åˆ†å‰²å’Œä¼˜åŒ–
    â””â”€ ç”Ÿæˆ manifest.json (æµè§ˆå™¨ç‰¹å®šç‰ˆæœ¬)
    â†“
    â”œâ”€â†’ npm run build        â†’ Chrome: .output/chrome-mv3/
    â”‚                              â†“
    â”‚                           npm run zip
    â”‚                              â†“
    â”‚                        tidyfeed-chrome.zip
    â”‚
    â””â”€â†’ npm run build:firefox â†’ Firefox: .output/firefox-mv3/
                                   â†“
                            npm run zip:firefox
                                   â†“
                            tidyfeed-firefox.xpi
```

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„è¯¦è§£

```
tidyfeed-extension/
â”‚
â”œâ”€â”€ src/                          # æºä»£ç  (å…±äº«)
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ (å·¥å…·å‡½æ•°ç­‰ - è·¨æµè§ˆå™¨å…¼å®¹)
â”‚   â””â”€â”€ (å…¶ä»–å…±äº«ä»£ç )
â”‚
â”œâ”€â”€ entrypoints/                  # æ‰©å±•å…¥å£ (å…±äº«é€»è¾‘)
â”‚   â”‚
â”‚   â”œâ”€â”€ background.ts             # åå°æœåŠ¡å·¥ä½œçº¿ç¨‹
â”‚   â”‚   â”œâ”€ ä½¿ç”¨: browser.storage, browser.alarms
â”‚   â”‚   â”œâ”€ Chrome: âœ… browser API å…¼å®¹
â”‚   â”‚   â””â”€ Firefox: âœ… browser API å…¼å®¹
â”‚   â”‚
â”‚   â”œâ”€â”€ content.tsx               # å†…å®¹è„šæœ¬ (é¡µé¢æ³¨å…¥)
â”‚   â”‚   â”œâ”€ è¿è¡Œåœ¨: x.com / twitter.com
â”‚   â”‚   â”œâ”€ Chrome: âœ… å®Œå…¨æ”¯æŒ
â”‚   â”‚   â””â”€ Firefox: âœ… å®Œå…¨æ”¯æŒ
â”‚   â”‚
â”‚   â”œâ”€â”€ injected.ts               # ä¸»è¦ä¸–ç•Œè„šæœ¬æ³¨å…¥
â”‚   â”‚   â”œâ”€ ç”¨é€”: ç»•è¿‡ CSPï¼Œè®¿é—®é¡µé¢å…¨å±€å¯¹è±¡
â”‚   â”‚   â”œâ”€ Chrome: âœ… web_accessible_resources
â”‚   â”‚   â””â”€ Firefox: âœ… web_accessible_resources
â”‚   â”‚
â”‚   â”œâ”€â”€ popup/                    # å¼¹çª— UI (React)
â”‚   â”‚   â”œâ”€â”€ App.tsx               # React æ ¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.html            # Popup HTML
â”‚   â”‚   â””â”€â”€ main.tsx              # React å…¥å£
â”‚   â”‚
â”‚   â””â”€â”€ content/                  # å†…å®¹è„šæœ¬å­æ¨¡å—
â”‚       â”œâ”€â”€ logic/
â”‚       â”‚   â”œâ”€â”€ adBlocker.ts      # å¹¿å‘Šè¿‡æ»¤é€»è¾‘
â”‚       â”‚   â”œâ”€â”€ injector.ts       # æŒ‰é’®æ³¨å…¥
â”‚       â”‚   â””â”€â”€ networkInterceptor.ts  # ç½‘ç»œæ‹¦æˆª
â”‚       â””â”€â”€ identity.ts           # èº«ä»½åŒæ­¥
â”‚
â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”‚   â””â”€â”€ icon/                     # å›¾æ ‡ (æ‰€æœ‰å°ºå¯¸)
â”‚       â”œâ”€â”€ 16.png
â”‚       â”œâ”€â”€ 32.png
â”‚       â”œâ”€â”€ 48.png
â”‚       â”œâ”€â”€ 96.png
â”‚       â””â”€â”€ 128.png
â”‚
â”œâ”€â”€ wxt.config.ts                 # ğŸ”‘ WXT é…ç½® (å…³é”®é…ç½®ç‚¹)
â”œâ”€â”€ package.json                  # NPM é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ postcss.config.mjs            # PostCSS é…ç½® (Tailwind)
â”œâ”€â”€ tailwind.config.js            # Tailwind CSS é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”§ wxt.config.ts - è¯¦ç»†è§£æ

```typescript
import { defineConfig } from 'wxt';

export default defineConfig({
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 1ï¸âƒ£ æ ¸å¿ƒé…ç½®
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  modules: ['@wxt-dev/module-react'],  // å¯ç”¨ React æ”¯æŒ
  
  // ğŸ”‘ å…³é”®: Manifest v3 ç”¨äºæ‰€æœ‰æµè§ˆå™¨
  manifestVersion: 3,
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 2ï¸âƒ£ Manifest é…ç½® (ä¸¤ä¸ªæµè§ˆå™¨å…±äº«)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  manifest: {
    // åŸºç¡€å…ƒæ•°æ®
    name: 'TidyFeed - AdBlock & Downloader',
    description: 'Filter social media noise, capture valuable content.',
    version: '0.0.1',
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // æƒé™é…ç½® (Manifest v3 é£æ ¼)
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    // æ™®é€šæƒé™: ä¸éœ€è¦ç”¨æˆ·æˆäºˆ
    permissions: [
      'storage',      // è®¿é—® storage API
      'activeTab',    // è·å–æ´»è·ƒæ ‡ç­¾ä¿¡æ¯
      'scripting',    // æ‰§è¡Œè„šæœ¬
      'alarms',       // ä½¿ç”¨å®šæ—¶å™¨
      'cookies'       // è®¿é—® cookies (è°¨æ…ä½¿ç”¨)
    ],
    
    // ä¸»æœºæƒé™: éœ€è¦ç”¨æˆ·æ˜ç¡®æˆäºˆ (Manifest v3)
    host_permissions: [
      // ç›®æ ‡ç½‘ç«™
      '*://*.x.com/*',              // Twitter/X (æ–°åŸŸå)
      '*://*.twitter.com/*',        // Twitter/X (æ—§åŸŸå)
      
      // API è°ƒç”¨
      '*://cdn.syndication.twimg.com/*',  // Twitter å†…å®¹
      '*://video.twimg.com/*',            // è§†é¢‘ CDN
      '*://pbs.twimg.com/*',              // å›¾ç‰‡ CDN
      'https://tidyfeed.app/*',           // æˆ‘ä»¬çš„æœåŠ¡
      'https://api.tidyfeed.app/*',       // åç«¯ API
      'https://*.googleusercontent.com/*', // Google å¤´åƒ
      'http://localhost:*/*'              // æœ¬åœ°å¼€å‘
    ],
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // å†…å®¹å®‰å…¨ç­–ç•¥ (CSP)
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    content_security_policy: {
      extension_pages: "script-src 'self'; object-src 'self'; img-src 'self' https://*.googleusercontent.com"
    },
    // Chrome + Firefox éƒ½æ”¯æŒæ­¤æ ¼å¼
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Web å¯è®¿é—®èµ„æº
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    web_accessible_resources: [
      {
        resources: ['injected.js'],  // å…è®¸é¡µé¢è®¿é—®çš„è„šæœ¬
        matches: [
          '*://*.x.com/*',      // åœ¨è¿™äº›é¡µé¢ä¸Š
          '*://*.twitter.com/*'
        ]
      }
    ],
    
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // UI å®šä¹‰
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    
    action: {
      default_title: 'TidyFeed'  // å·¥å…·æ å›¾æ ‡æç¤ºæ–‡æœ¬
    },
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // 3ï¸âƒ£ æµè§ˆå™¨ç‰¹å®šé…ç½® (ä»…åœ¨ Firefox ç‰ˆæœ¬ä¸­ä½¿ç”¨)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    browser_specific_settings: {
      gecko: {
        // å¿…é¡»: Firefox æ’ä»¶å”¯ä¸€ ID
        // æ ¼å¼: {UUID} æˆ– user@example.com
        id: 'tidyfeed@tidyfeed.app',
        
        // æœ€ä½ Firefox ç‰ˆæœ¬ (æ”¯æŒ Manifest v3)
        // Firefox 109+ å®Œå…¨æ”¯æŒ MV3
        strict_min_version: '109.0'
      }
    }
    // âš ï¸ Chrome ä¼šå¿½ç•¥æ­¤å­—æ®µ
  }
});
```

---

## ğŸ”€ Chrome vs Firefox æ„å»ºå·®å¼‚

### è¾“å…¥ (ç›¸åŒ)

```
æºä»£ç :
- src/ (å…±äº«ä»£ç )
- entrypoints/ (å…±äº«å…¥å£)
- public/ (å…±äº«èµ„æº)
- wxt.config.ts (ç»Ÿä¸€é…ç½®)
```

### å¤„ç†è¿‡ç¨‹ (ç”± WXT è‡ªåŠ¨å¤„ç†)

| æ­¥éª¤ | Chrome | Firefox |
|------|--------|---------|
| TypeScript ç¼–è¯‘ | âœ… | âœ… |
| React æ‰“åŒ… | âœ… | âœ… |
| CSS å¤„ç† | âœ… | âœ… |
| ç”Ÿæˆ manifest.json | âœ… | âœ… + gecko |
| ç”Ÿæˆ icons | âœ… | âœ… |

### è¾“å‡º (ç•¥æœ‰ä¸åŒ)

```
Chrome:
  .output/chrome-mv3/
  â”œâ”€â”€ manifest.json (Manifest v3, æ—  gecko å­—æ®µ)
  â””â”€â”€ (å…¶ä»–æ–‡ä»¶ç›¸åŒ)

Firefox:
  .output/firefox-mv3/
  â”œâ”€â”€ manifest.json (Manifest v3, + gecko é…ç½®)
  â””â”€â”€ (å…¶ä»–æ–‡ä»¶ç›¸åŒ)
```

### å¯åˆ†å‘åŒ…

```
Chrome:
  npm run zip
  â†’ .output/chrome-mv3.zip (ä¸Šä¼ åˆ° Chrome Web Store)

Firefox:
  npm run zip:firefox
  â†’ .output/firefox-mv3.xpi (ä¸Šä¼ åˆ° Firefox Add-ons)
```

---

## ğŸš€ æ‰§è¡Œæµç¨‹è¯¦è§£

### 1ï¸âƒ£ Chrome æ‰©å±•ç”Ÿå‘½å‘¨æœŸ

```
ç”¨æˆ·å®‰è£… (Chrome Web Store)
    â†“
è¯»å– manifest.json (Manifest v3)
    â†“
åå°è„šæœ¬åŠ è½½ (background.js)
    â”œâ”€ åˆå§‹åŒ–å­˜å‚¨
    â”œâ”€ æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    â””â”€ å¯åŠ¨å®šæ—¶åŒæ­¥
    â†“
å†…å®¹è„šæœ¬æ³¨å…¥ (åŒ¹é… x.com, twitter.com)
    â”œâ”€ DOM æ“ä½œ: æ·»åŠ è¿‡æ»¤æŒ‰é’®
    â”œâ”€ ç½‘ç»œæ‹¦æˆª: æ•è· GraphQL å“åº”
    â””â”€ äº‹ä»¶ç›‘å¬: å¤„ç†ç”¨æˆ·äº¤äº’
    â†“
ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡
    â†“
å¼¹çª—æ‰“å¼€ (popup.html + React)
    â”œâ”€ åŠ è½½ç”¨æˆ·è®¾ç½®
    â”œâ”€ æ˜¾ç¤º UI ç•Œé¢
    â””â”€ å¤„ç†ç”¨æˆ·æ“ä½œ
    â†“
åå°è„šæœ¬å“åº”
    â”œâ”€ ä¸‹è½½å¤„ç†
    â”œâ”€ è¿‡æ»¤è§„åˆ™åº”ç”¨
    â””â”€ API è°ƒç”¨
```

### 2ï¸âƒ£ Firefox æ‰©å±•ç”Ÿå‘½å‘¨æœŸ

```
ç”¨æˆ·å®‰è£… (Firefox Add-ons æˆ–ä¸´æ—¶åŠ è½½)
    â†“
è¯»å– manifest.json (Manifest v3 + gecko)
    â†“
åå°è„šæœ¬åŠ è½½ (background.js)
    â”œâ”€ åˆå§‹åŒ–å­˜å‚¨ (Firefox storage API)
    â”œâ”€ æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
    â””â”€ å¯åŠ¨å®šæ—¶åŒæ­¥
    â†“
å†…å®¹è„šæœ¬æ³¨å…¥ (ç›¸åŒçš„ matches æ¨¡å¼)
    â”œâ”€ DOM æ“ä½œ (ç›¸åŒ)
    â”œâ”€ ç½‘ç»œæ‹¦æˆª (ç›¸åŒ)
    â””â”€ äº‹ä»¶ç›‘å¬ (ç›¸åŒ)
    â†“
ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡
    â†“
å¼¹çª—æ‰“å¼€ (popup.html + React, ç›¸åŒ)
    â”œâ”€ åŠ è½½ç”¨æˆ·è®¾ç½®
    â”œâ”€ æ˜¾ç¤º UI ç•Œé¢
    â””â”€ å¤„ç†ç”¨æˆ·æ“ä½œ
    â†“
åå°è„šæœ¬å“åº” (ç›¸åŒ)
```

---

## ğŸ”„ API å…¼å®¹æ€§çŸ©é˜µ

### Storage API

```javascript
// Chrome å’Œ Firefox éƒ½æ”¯æŒ
browser.storage.local.get(keys)
browser.storage.local.set(items)
browser.storage.local.remove(keys)
browser.storage.local.clear()

// WXT æä¾›å…¼å®¹å±‚
// ä¸¤ä¸ªæµè§ˆå™¨çš„è°ƒç”¨å®Œå…¨ç›¸åŒ âœ…
```

### Tabs & Scripting

```javascript
// Chrome (Manifest v3)
browser.scripting.executeScript({ targetId: tabId, ... })
browser.tabs.query({ ... })

// Firefox (Manifest v3)
browser.scripting.executeScript({ target: { tabId }, ... })
browser.tabs.query({ ... })

// å·®å¼‚: WXT è‡ªåŠ¨å¤„ç† âœ…
```

### Alarms

```javascript
// Chrome å’Œ Firefox éƒ½æ”¯æŒç›¸åŒçš„ API
browser.alarms.create(name, alarmInfo)
browser.alarms.onAlarm.addListener(callback)

// ç”¨é€”: å®šæœŸåŒæ­¥äº‘ç«¯è§„åˆ™
// å…¼å®¹æ€§: 100% âœ…
```

### Content Security Policy

```
Chrome:
  "content_security_policy": {
    "extension_pages": "script-src 'self'; ..."
  }

Firefox:
  ç›¸åŒæ ¼å¼ âœ…
```

---

## ğŸ“¦ æ‰“åŒ…å’Œå‘å¸ƒ

### Chrome Web Store æµç¨‹

```
npm run zip
    â†“
.output/chrome-mv3.zip (ç”Ÿæˆ)
    â†“
ä¸Šä¼ åˆ° Chrome Web Store
    â”œâ”€ å¼€å‘è€…è´¦å·: https://chrome.google.com/webstore/devconsole/
    â”œâ”€ ä¸Šä¼  zip æ–‡ä»¶
    â”œâ”€ å¡«å†™å•†åº—ä¿¡æ¯
    â””â”€ æäº¤å®¡æ ¸ (é€šå¸¸ 1-3 å¤©)
    â†“
ç”¨æˆ·å¯é€šè¿‡ Chrome Web Store å®‰è£…
```

### Firefox Add-ons æµç¨‹

```
npm run zip:firefox
    â†“
.output/firefox-mv3.xpi (ç”Ÿæˆ)
    â†“
ä¸Šä¼ åˆ° Firefox Add-ons
    â”œâ”€ å¼€å‘è€…è´¦å·: https://addons.mozilla.org/
    â”œâ”€ ä¸Šä¼  xpi æ–‡ä»¶æˆ–æºä»£ç 
    â”œâ”€ å¡«å†™æ‰©å±•ä¿¡æ¯
    â””â”€ æäº¤å®¡æ ¸ (é€šå¸¸ 3-7 å¤©)
    â†“
ç”¨æˆ·å¯é€šè¿‡ Firefox Add-ons å®‰è£…
```

---

## âœ… å…¼å®¹æ€§æ¸…å•

| åŠŸèƒ½ | Chrome | Firefox | çŠ¶æ€ |
|------|--------|---------|------|
| **åŸºç¡€åŠŸèƒ½** | | | |
| Manifest v3 | âœ… | âœ… | ç»Ÿä¸€ |
| åå°è„šæœ¬ | âœ… | âœ… | ç»Ÿä¸€ |
| å†…å®¹è„šæœ¬ | âœ… | âœ… | ç»Ÿä¸€ |
| å¼¹çª— UI | âœ… | âœ… | ç»Ÿä¸€ |
| **API** | | | |
| storage.local | âœ… | âœ… | ç»Ÿä¸€ |
| alarms | âœ… | âœ… | ç»Ÿä¸€ |
| tabs | âœ… | âœ… | ç»Ÿä¸€ |
| scripting | âœ… | âœ… | ç»Ÿä¸€ |
| **åŠŸèƒ½** | | | |
| å¹¿å‘Šè¿‡æ»¤ | âœ… | âœ… | ç»Ÿä¸€ |
| æ¨æ–‡ä¸‹è½½ | âœ… | âœ… | ç»Ÿä¸€ |
| ç½‘ç»œæ‹¦æˆª | âœ… | âœ… | ç»Ÿä¸€ |
| äº‘åŒæ­¥ | âœ… | âœ… | ç»Ÿä¸€ |
| **æƒé™** | | | |
| ä¸»æœºæƒé™ | âœ… | âœ… | ç»Ÿä¸€ |
| å­˜å‚¨æƒé™ | âœ… | âœ… | ç»Ÿä¸€ |
| è„šæœ¬æƒé™ | âœ… | âœ… | ç»Ÿä¸€ |

---

## ğŸ¯ æ ¸å¿ƒäº®ç‚¹

### ğŸŸ¢ å•ä¸€ä»£ç åº“
- ä¸€å¥—æºä»£ç  â†’ ä¸¤ä¸ªæµè§ˆå™¨
- DRY åŸåˆ™å®Œå…¨éµå¾ª
- ç»´æŠ¤æˆæœ¬æœ€ä½

### ğŸŸ¢ è‡ªåŠ¨åŒ–æ„å»º
```bash
npm run build     # Chrome
npm run build:firefox  # Firefox
```
- WXT è‡ªåŠ¨å¤„ç†å·®å¼‚
- manifest.json è‡ªåŠ¨ç”Ÿæˆ
- æ— éœ€æ‰‹åŠ¨é…ç½®

### ğŸŸ¢ å®Œå…¨å…¼å®¹
- æ‰€æœ‰ API åœ¨ä¸¤ä¸ªæµè§ˆå™¨ä¸­ä¸€è‡´
- æƒé™å£°æ˜ç»Ÿä¸€å¤„ç†
- åŠŸèƒ½ 100% å¯¹ç­‰

### ğŸŸ¢ æ˜“äºå‘å¸ƒ
```bash
npm run zip        # Chrome å‘å¸ƒåŒ…
npm run zip:firefox  # Firefox å‘å¸ƒåŒ…
```

---

## ğŸ“š å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
npm run dev           # Chrome ç›‘å¬æ¨¡å¼
npm run dev:firefox   # Firefox ç›‘å¬æ¨¡å¼

# æ„å»º
npm run build         # Chrome ç”Ÿäº§ç‰ˆæœ¬
npm run build:firefox # Firefox ç”Ÿäº§ç‰ˆæœ¬

# æ‰“åŒ…
npm run zip           # Chrome .zip
npm run zip:firefox   # Firefox .xpi

# æ£€æŸ¥
npm run compile       # TypeScript ç±»å‹æ£€æŸ¥
```

### æ–‡ä»¶ä½ç½®

```bash
# Chrome è¾“å‡º
.output/chrome-mv3/
.output/chrome-mv3.zip

# Firefox è¾“å‡º
.output/firefox-mv3/
.output/firefox-mv3.xpi
```

### å…³é”®é…ç½®

- **Manifest é…ç½®**: wxt.config.ts
- **React é…ç½®**: entrypoints/popup/main.tsx
- **åå°è„šæœ¬**: entrypoints/background.ts
- **å†…å®¹è„šæœ¬**: entrypoints/content.tsx
- **æ ·å¼**: tailwind.config.js

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [FIREFOX_MIGRATION_PLAN.md](./FIREFOX_MIGRATION_PLAN.md) - è¯¦ç»†å®æ–½è·¯å¾„
- [FIREFOX_QUICK_START.md](./FIREFOX_QUICK_START.md) - å¿«é€Ÿå¼€å§‹æŒ‡å—
- [FIREFOX_IMPLEMENTATION_COMPLETE.md](./FIREFOX_IMPLEMENTATION_COMPLETE.md) - å®æ–½å®Œæˆæ€»ç»“

**é¡¹ç›®çŠ¶æ€**: âœ… å®Œå…¨æ”¯æŒ Chrome å’Œ Firefoxï¼Œå‡†å¤‡ç”Ÿäº§å‘å¸ƒ
